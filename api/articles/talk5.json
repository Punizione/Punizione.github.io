{"title":"编程杂谈(5)---输出自身的程序","slug":"talk5","date":"2017-12-03T01:42:26.412Z","updated":"2017-12-11T14:23:23.552Z","comments":true,"excerpt":"<p>发现个很好玩的东西,像是脑筋急转弯","content":"<p>发现个很好玩的东西,像是脑筋急转弯 <a id=\"more\"></a></p>\n<h2 id=\"引子\"><a href=\"#引子\" class=\"headerlink\" title=\"引子\"></a>引子</h2><p>无意在网上发现一道说是美国高中生的编程练习题  </p>\n<p>写一个程序,这个程序的执行结果这是在控制台输出这个程序本身的代码,<br>当然了,代码不能为空,也不能是异常信息(有些语言的异常信息可以等同于代码信息)</p>\n<p>一开始我以为很简单,用<code>Java</code>试了几下都没成,遂放弃换成<code>Python</code></p>\n<p>早该意识到解释型语言应该比编译型语言更适合用来做这道题</p>\n<p>果不其然,<code>Python</code>只要两句话就行了</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s = <span class=\"string\">'s = %r\\nprint(s%%s)'</span></span><br><span class=\"line\">print(s%s)</span><br></pre></td></tr></table></figure>\n<p>那Java该怎么办?</p>\n<p>或者说编译型、强类型的该怎么办?</p>\n<p>多次尝试未果,遂Google搜搜</p>\n<p>知道了这叫做<a href=\"https://en.wikipedia.org/wiki/Quine\" target=\"_blank\" rel=\"external\">Quine</a></p>\n<p>而Java版的代码如下<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Quine</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> q = <span class=\"number\">34</span>;      <span class=\"comment\">// Quotation mark character</span></span><br><span class=\"line\">    String[] l = &#123;    <span class=\"comment\">// Array of source code</span></span><br><span class=\"line\">    <span class=\"string\">\"public class Quine\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"&#123;\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"  public static void main(String[] args)\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"  &#123;\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"    char q = 34;      // Quotation mark character\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"    String[] l = &#123;    // Array of source code\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"    \"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"    &#125;;\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"    for(int i = 0; i &lt; 6; i++)           // Print opening code\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"        System.out.println(l[i]);\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"    for(int i = 0; i &lt; l.length; i++)    // Print string array\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"        System.out.println(l[6] + q + l[i] + q + ',');\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"    for(int i = 7; i &lt; l.length; i++)    // Print this code\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"        System.out.println(l[i]);\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"  &#125;\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"&#125;\"</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i++)           <span class=\"comment\">// Print opening code</span></span><br><span class=\"line\">        System.out.println(l[i]);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; l.length; i++)    <span class=\"comment\">// Print string array</span></span><br><span class=\"line\">        System.out.println(l[<span class=\"number\">6</span>] + q + l[i] + q + <span class=\"string\">','</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">7</span>; i &lt; l.length; i++)    <span class=\"comment\">// Print this code</span></span><br><span class=\"line\">        System.out.println(l[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>不得不佩服dalao们对程序逻辑的理解之深 _(:3 」∠)_</p>\n<p>后来问了部落的一个做前端的,他表示用<code>JavaScript</code>很容易就能写得出来<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">a</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">document</span>.write(a, <span class=\"string\">\"a()\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">a()</span><br></pre></td></tr></table></figure></p>\n<p>emmmmmm…….<br>_(:3 」∠)_</p>\n","thumbnail":["http://p0s30qphu.bkt.clouddn.com/17-12-11/58184958.jpg"],"categories":[{"name":"编程","path":"api/categories/编程.json"}],"tags":[{"name":"Java","path":"api/tags/Java.json"},{"name":"学习笔记","path":"api/tags/学习笔记.json"}]}